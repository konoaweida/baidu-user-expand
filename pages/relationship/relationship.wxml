<view class="relationship-container">
  <!-- 导航栏（假设navigation-header为自定义组件） -->
  <navigation-header 
    showBackButton="{{true}}" 
    backColor="{{1}}">
  </navigation-header>

  <!-- 内容区域 -->
  <view class="relationship-content">
  
    <!-- 关系类型选项列表（基于主要数据源cpTypesList渲染） -->
    <view 
      class="relationship-item" 
      wx:for="{{cpTypesList}}" 
      wx:key="id"  
      data-index="{{index}}"  
      bindtap="onFamilyCheck"  
    >
      <view class="item-title">
        <!-- 关系图标 -->
        <image src="{{item.icon}}" class="item-icon"></image>
        <!-- 关系名称（使用typeName字段，与数据结构一致） -->
        <text class="item-text">{{item.typeName}}</text>
      </view>
      <!-- 选中状态图标 -->
      <view class="item-check">
        <image 
          src="{{index === selectedIndex ? '../../assets/image/已选择.png' : '../../assets/image/未选中.png'}}" 
          class="check-icon" 
          style="width: 100%; height: 100%;" 
        ></image>
      </view>
    </view>

    <!-- 申请说明输入框 -->
    <view class="apply-desc-container">
      <input 
        class="apply-desc-input" 
        placeholder="添加申请说明(可选填)" 
        placeholder-class="apply-desc-placeholder"
        bindinput="onDescInput" 
        value="{{inputValue}}"   
        maxlength="15"           
      />
      <!-- 字数统计 -->
      <text class="word-count">{{wordCount}}/15</text>
    </view>
  </view>

  <!-- 底部提交按钮 -->
  <view class="bottom-btn" bindtap="onConfirm">
    <text class="confirm-text">申请和TA建立关系</text>
  </view>
</view>